function graphyPlotPoint(I,_,N,r,n){null==r||"cross"==r?(graphyDrawSolidLine(I,_-5,N-5,_+5,N+5),graphyDrawSolidLine(I,_-5,N+5,_+5,N-5)):"circle"!=r&&"point"!=r||(I.beginPath(),I.arc(_,N,n.POINT_RAD_PX,0,2*Math.PI),I.fill(),I.stroke(),I.fillStyle=n.MAIN_COLOR,I.strokeStyle=n.MAIN_COLOR)}function graphyDrawLine(I,_,N,r){var n=_[0],i=N[0],a=_[1],e=N[1],l=graphyUnitToPixel(n,"x",r),t=graphyUnitToPixel(i,"x",r),o=graphyUnitToPixel(a,"y",r),X=graphyUnitToPixel(e,"y",r);graphyDrawSolidLine(I,l,o,t,X,r.MAIN_COLOR)}function graphyDrawPoly(I,_,N,r,n){if(n.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var i=_,a=0,e=0;e<r.length;e++){var l=r.length-e-1;a+=r[e]*Math.pow(i,l)}for(;i<N;){nextX=i+n.POLY_SEGMENT;for(var t=0,e=0;e<r.length;e++){var l=r.length-e-1;t+=r[e]*Math.pow(nextX,l)}var o=graphyUnitToPixel(i,"x",n),X=graphyUnitToPixel(nextX,"x",n),R=graphyUnitToPixel(a,"y",n),M=graphyUnitToPixel(t,"y",n);graphyDrawSolidLine(I,o,R,X,M,n.MAIN_COLOR),i=nextX,a=t}}function graphyDrawSolidLine(I,_,N,r,n,i){I.beginPath(),I.moveTo(_,N),I.lineTo(r,n),I.closePath(),I.stroke(),I.strokeStyle=i}function graphyDrawCircle(I,_,N,r,n){I.beginPath(),I.arc(_,N,r,0,2*Math.PI),I.stroke(),I.strokeStyle=n.MAIN_COLOR}function graphyUnitToPixel(I,_,N){return I=parseFloat(I),"x"===_?N.MARGIN_PX+N.PADDING_PX+(I-N.MIN_X_UNIT)*N.DIVISION_X:"y"===_?N.MARGIN_PX+N.PADDING_PX+(N.MAX_Y_UNIT-I)*N.DIVISION_Y:void console.log("Direction is not defined")}function graphySetEmptyCanvas(I,_){var N=document.getElementById(I.ID);return null==N&&(N=graphyCreateElement("canvas",I.ID,null,"",_)),N.width=I.CVS_WIDTH,N.height=I.CVS_HEIGHT,N.style.border="1px solid lightgray",N.getContext("2d").font="12px verdana",N}function graphyCreateElement(I,_,N,r,n){var i=document.createElement(I);return null!=_&&(i.id=_),null!=N&&(i.className=N),null!=r&&(i.innerHTML=r),null!=n&&n.appendChild(i),i}var graphy=function(I,_){function N(){r.DIVISION_X=(r.CVS_WIDTH-2*r.MARGIN_PX-2*r.PADDING_PX)/(r.MAX_X_UNIT-r.MIN_X_UNIT),r.DIVISION_Y=(r.CVS_HEIGHT-2*r.MARGIN_PX-2*r.PADDING_PX)/(r.MAX_Y_UNIT-r.MIN_Y_UNIT),r.MAX_Y_UNIT>0&&r.MIN_Y_UNIT<0&&(r.ORIGIN_Y=r.MARGIN_PX+r.PADDING_PX+r.DIVISION_Y*r.MAX_Y_UNIT),r.MAX_X_UNIT>0&&r.MIN_X_UNIT<0&&(r.ORIGIN_X=r.MARGIN_PX+r.PADDING_PX+r.DIVISION_X*Math.abs(r.MIN_X_UNIT)),r.ORIGIN_Y&&(graphyDrawSolidLine(i,r.MARGIN_PX,r.ORIGIN_Y,r.CVS_WIDTH-r.MARGIN_PX,r.ORIGIN_Y,r.MAIN_COLOR),graphyDrawSolidLine(i,r.CVS_WIDTH-r.MARGIN_PX,r.ORIGIN_Y,r.CVS_WIDTH-r.MARGIN_PX-r.ARROW_SZ_PX,r.ORIGIN_Y-r.ARROW_SZ_PX),graphyDrawSolidLine(i,r.CVS_WIDTH-r.MARGIN_PX,r.ORIGIN_Y,r.CVS_WIDTH-r.MARGIN_PX-r.ARROW_SZ_PX,r.ORIGIN_Y+r.ARROW_SZ_PX),i.fillText(r.HORIZONTAL_NAME,r.CVS_WIDTH-r.MARGIN_PX,r.ORIGIN_Y-r.MARGIN_PX)),r.ORIGIN_X&&(graphyDrawSolidLine(i,r.ORIGIN_X,r.MARGIN_PX,r.ORIGIN_X,r.CVS_HEIGHT-r.MARGIN_PX,r.MAIN_COLOR),graphyDrawSolidLine(i,r.ORIGIN_X,r.MARGIN_PX,r.ORIGIN_X-r.ARROW_SZ_PX,r.MARGIN_PX+r.ARROW_SZ_PX,r.MAIN_COLOR),graphyDrawSolidLine(i,r.ORIGIN_X,r.MARGIN_PX,r.ORIGIN_X+r.ARROW_SZ_PX,r.MARGIN_PX+r.ARROW_SZ_PX,r.MAIN_COLOR),i.fillText(r.VERTICAL_NAME,r.ORIGIN_X+r.MARGIN_PX,r.MARGIN_PX)),i.fillText(0,r.ORIGIN_X+5,r.ORIGIN_Y+15);for(var I=r.MIN_X_UNIT;I<=r.MAX_X_UNIT;I+=r.INTERVAL_UNIT)if(0!=I){var _=r.MARGIN_PX+r.PADDING_PX+(I-r.MIN_X_UNIT)*r.DIVISION_X;graphyDrawSolidLine(i,_,r.ORIGIN_Y+5,_,r.ORIGIN_Y-5,r.MAIN_COLOR),i.fillText(I,_,r.ORIGIN_Y+15)}for(var I=r.MAX_Y_UNIT;I>=r.MIN_Y_UNIT;I-=r.INTERVAL_UNIT)if(0!=I){var N=r.MARGIN_PX+r.PADDING_PX+(r.MAX_Y_UNIT-I)*r.DIVISION_Y;graphyDrawSolidLine(i,r.ORIGIN_X-5,N,r.ORIGIN_X+5,N,r.MAIN_COLOR),i.fillText(I,r.ORIGIN_X+5,N+5)}}var r={CVS_WIDTH:500,CVS_HEIGHT:500,VERTICAL_NAME:"y",HORIZONTAL_NAME:"x",MAX_X_UNIT:5,MIN_X_UNIT:-5,MAX_Y_UNIT:5,MIN_Y_UNIT:-5,INTERVAL_UNIT:1,MARGIN_PX:10,PADDING_PX:15,ARROW_SZ_PX:5,POINT_RAD_PX:2,MAIN_COLOR:"#000",POLY_SEGMENT:.1,ID:"graphy.js_"+Date.now(),DIVISION_X:null,DIVISION_Y:null,ORIGIN_X:null,ORIGIN_Y:null};if(null!=_){if(_.id&&(r.ID=_.id),_.verticalName&&(r.VERTICAL_NAME=_.verticalName),_.horizontalName&&(r.HORIZONTAL_NAME=_.horizontalName),_.height&&(r.CVS_HEIGHT=_.height),_.width&&(r.CVS_WIDTH=_.width),_.xMax&&(r.MAX_X_UNIT=parseInt(_.xMax)),_.xMin&&(r.MIN_X_UNIT=parseInt(_.xMin)),_.yMax&&(r.MAX_Y_UNIT=parseInt(_.yMax)),_.yMin&&(r.MIN_Y_UNIT=parseInt(_.yMin)),_.interval&&(r.INTERVAL_UNIT=_.interval),r.MAX_X_UNIT<r.MIN_X_UNIT)return void console.log("Error: Wrong input for x boundaries");if(r.MAX_Y_UNIT<r.MIN_Y_UNIT)return void console.log("Error: Wrong input for y boundaries")}var n=graphySetEmptyCanvas(r,I),i=n.getContext("2d");return N(),{plotPoint:function(I,_,N){if(null!=I&&null!=_){var n=graphyUnitToPixel(I,"x",r),a=graphyUnitToPixel(_,"y",r);"cross"===N?graphyPlotPoint(i,n,a,r.MAIN_COLOR,"circle"):graphyPlotPoint(i,n,a,r.MAIN_COLOR)}},drawLine:function(I,_){null!=I&&null!=_&&graphyDrawLine(i,I,_,r)},drawPoly:function(I,_){if(null!=I){var N=r.MIN_X_UNIT,n=r.MAX_X_UNIT;_&&(_[0]&&N<_[0]&&(N=_[0]),_[1]&&n>_[1]&&(n=_[1])),graphyDrawPoly(i,N,n,I,r)}},drawCircle:function(I,_){if(null!=I&&null!=_&&null!=I[0]&&null!=I[1]){var N=graphyUnitToPixel(I[0],"x",r),n=graphyUnitToPixel(I[1],"y",r),a=_*r.DIVISION_X;graphyDrawCircle(i,N,n,a,r)}}}};