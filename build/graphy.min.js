function graphyPlotPoint(I,_,n,i,r){null==i||"cross"==i?(graphyDrawSolidLine(I,_-5,n-5,_+5,n+5),graphyDrawSolidLine(I,_-5,n+5,_+5,n-5)):"circle"!=i&&"point"!=i||(I.beginPath(),I.arc(_,n,r.POINT_RAD_PX,0,2*Math.PI),I.fill(),I.stroke(),I.fillStyle=r.MAIN_COLOR,I.strokeStyle=r.MAIN_COLOR)}function graphyDrawLine(I,_,n,i){var r=_[0],a=n[0],l=_[1],N=n[1],t=graphyUnitToPixel(r,"x",i),e=graphyUnitToPixel(a,"x",i),o=graphyUnitToPixel(l,"y",i),M=graphyUnitToPixel(N,"y",i);graphyDrawSolidLine(I,t,o,e,M,i.MAIN_COLOR)}function graphyDrawPoly(I,_,n,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var a=_,l=0,N=0;N<i.length;N++){var t=i.length-N-1;l+=i[N]*Math.pow(a,t)}for(;a<n;){nextX=a+r.POLY_SEGMENT;for(var e=0,N=0;N<i.length;N++){var t=i.length-N-1;e+=i[N]*Math.pow(nextX,t)}var o=graphyUnitToPixel(a,"x",r),M=graphyUnitToPixel(nextX,"x",r),T=graphyUnitToPixel(l,"y",r),X=graphyUnitToPixel(e,"y",r);graphyDrawSolidLine(I,o,T,M,X,r.MAIN_COLOR),a=nextX,l=e}}function graphyDrawSolidLine(I,_,n,i,r,a){I.beginPath(),I.moveTo(_,n),I.lineTo(i,r),I.closePath(),I.stroke(),I.strokeStyle=a}function graphyDrawCircle(I,_,n,i,r){I.beginPath(),I.arc(_,n,i,0,2*Math.PI),I.stroke(),I.strokeStyle=r.MAIN_COLOR,I.beginPath(),I.arc(_,n,r.POINT_RAD_PX,0,2*Math.PI),I.fill(),I.stroke(),I.fillStyle=r.MAIN_COLOR,I.strokeStyle=r.MAIN_COLOR}function graphyDrawSine(I,_,n,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var a=_,l=null,N=null,t=null;a<=n;){l=i*Math.sin(a),N=a+r.POLY_SEGMENT,t=i*Math.sin(N);var e=graphyUnitToPixel(a,"x",r),o=graphyUnitToPixel(N,"x",r),M=graphyUnitToPixel(l,"y",r),T=graphyUnitToPixel(t,"y",r);graphyDrawSolidLine(I,e,M,o,T,r.MAIN_COLOR),a=N,l=t}}function graphyDrawCosine(I,_,n,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var a=_,l=null,N=null,t=null;a<=n;){l=i*Math.cos(a),N=a+r.POLY_SEGMENT,t=i*Math.cos(N);var e=graphyUnitToPixel(a,"x",r),o=graphyUnitToPixel(N,"x",r),M=graphyUnitToPixel(l,"y",r),T=graphyUnitToPixel(t,"y",r);graphyDrawSolidLine(I,e,M,o,T,r.MAIN_COLOR),a=N,l=t}}function graphyDrawTangent(I,_,n,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var a=_,l=null,N=null,t=null;a<=n;){l=i*Math.tan(a),N=a+r.POLY_SEGMENT,t=i*Math.tan(N);var e=graphyUnitToPixel(a,"x",r),o=graphyUnitToPixel(N,"x",r),M=graphyUnitToPixel(l,"y",r),T=graphyUnitToPixel(t,"y",r);graphyDrawSolidLine(I,e,M,o,T,r.MAIN_COLOR),a=N,l=t}}function graphyDrawCotantgent(I,_,n,i,r){if(r.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var a=_,l=null,N=null,t=null;a<=n;){l=i*Math.cot(a),N=a+r.POLY_SEGMENT,t=i*Math.cot(N);var e=graphyUnitToPixel(a,"x",r),o=graphyUnitToPixel(N,"x",r),M=graphyUnitToPixel(l,"y",r),T=graphyUnitToPixel(t,"y",r);graphyDrawSolidLine(I,e,M,o,T,r.MAIN_COLOR),a=N,l=t}}function graphyUnitToPixel(I,_,n){return I=parseFloat(I),"x"===_?n.MARGIN_PX+n.PADDING_PX+(I-n.MIN_X_UNIT)*n.DIVISION_X:"y"===_?n.MARGIN_PX+n.PADDING_PX+(n.MAX_Y_UNIT-I)*n.DIVISION_Y:void console.log("Direction is not defined")}function graphySetEmptyCanvas(I,_){var n=document.getElementById(I.ID);return null==n&&(n=graphyCreateElement("canvas",I.ID,null,"",_)),n.width=I.CVS_WIDTH,n.height=I.CVS_HEIGHT,n.style.border="1px solid lightgray",n.getContext("2d").font="12px verdana",n}function graphyCreateElement(I,_,n,i,r){var a=document.createElement(I);return null!=_&&(a.id=_),null!=n&&(a.className=n),null!=i&&(a.innerHTML=i),null!=r&&r.appendChild(a),a}var graphy=function(I,_){function n(){i.DIVISION_X=(i.CVS_WIDTH-2*i.MARGIN_PX-2*i.PADDING_PX)/(i.MAX_X_UNIT-i.MIN_X_UNIT),i.DIVISION_Y=(i.CVS_HEIGHT-2*i.MARGIN_PX-2*i.PADDING_PX)/(i.MAX_Y_UNIT-i.MIN_Y_UNIT),i.MAX_Y_UNIT>0&&i.MIN_Y_UNIT<0&&(i.ORIGIN_Y=i.MARGIN_PX+i.PADDING_PX+i.DIVISION_Y*i.MAX_Y_UNIT),i.MAX_X_UNIT>0&&i.MIN_X_UNIT<0&&(i.ORIGIN_X=i.MARGIN_PX+i.PADDING_PX+i.DIVISION_X*Math.abs(i.MIN_X_UNIT)),i.ORIGIN_Y&&(graphyDrawSolidLine(a,i.MARGIN_PX,i.ORIGIN_Y,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y,i.MAIN_COLOR),graphyDrawSolidLine(a,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y,i.CVS_WIDTH-i.MARGIN_PX-i.ARROW_SZ_PX,i.ORIGIN_Y-i.ARROW_SZ_PX),graphyDrawSolidLine(a,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y,i.CVS_WIDTH-i.MARGIN_PX-i.ARROW_SZ_PX,i.ORIGIN_Y+i.ARROW_SZ_PX),a.fillText(i.HORIZONTAL_NAME,i.CVS_WIDTH-i.MARGIN_PX,i.ORIGIN_Y-i.MARGIN_PX)),i.ORIGIN_X&&(graphyDrawSolidLine(a,i.ORIGIN_X,i.MARGIN_PX,i.ORIGIN_X,i.CVS_HEIGHT-i.MARGIN_PX,i.MAIN_COLOR),graphyDrawSolidLine(a,i.ORIGIN_X,i.MARGIN_PX,i.ORIGIN_X-i.ARROW_SZ_PX,i.MARGIN_PX+i.ARROW_SZ_PX,i.MAIN_COLOR),graphyDrawSolidLine(a,i.ORIGIN_X,i.MARGIN_PX,i.ORIGIN_X+i.ARROW_SZ_PX,i.MARGIN_PX+i.ARROW_SZ_PX,i.MAIN_COLOR),a.fillText(i.VERTICAL_NAME,i.ORIGIN_X+i.MARGIN_PX,i.MARGIN_PX)),a.fillText(0,i.ORIGIN_X+5,i.ORIGIN_Y+15);for(var I=i.MIN_X_UNIT;I<=i.MAX_X_UNIT;I+=i.INTERVAL_UNIT)if(0!=I){var _=i.MARGIN_PX+i.PADDING_PX+(I-i.MIN_X_UNIT)*i.DIVISION_X;graphyDrawSolidLine(a,_,i.ORIGIN_Y+5,_,i.ORIGIN_Y-5,i.MAIN_COLOR),a.fillText(I,_,i.ORIGIN_Y+15)}for(var I=i.MAX_Y_UNIT;I>=i.MIN_Y_UNIT;I-=i.INTERVAL_UNIT)if(0!=I){var n=i.MARGIN_PX+i.PADDING_PX+(i.MAX_Y_UNIT-I)*i.DIVISION_Y;graphyDrawSolidLine(a,i.ORIGIN_X-5,n,i.ORIGIN_X+5,n,i.MAIN_COLOR),a.fillText(I,i.ORIGIN_X+5,n+5)}}var i={CVS_WIDTH:500,CVS_HEIGHT:500,VERTICAL_NAME:"y",HORIZONTAL_NAME:"x",MAX_X_UNIT:5,MIN_X_UNIT:-5,MAX_Y_UNIT:5,MIN_Y_UNIT:-5,INTERVAL_UNIT:1,MARGIN_PX:10,PADDING_PX:15,ARROW_SZ_PX:5,POINT_RAD_PX:2,MAIN_COLOR:"#000",POLY_SEGMENT:.1,ID:"graphy.js_"+Date.now(),DIVISION_X:null,DIVISION_Y:null,ORIGIN_X:null,ORIGIN_Y:null};if(null!=_){if(_.id&&(i.ID=_.id),_.verticalName&&(i.VERTICAL_NAME=_.verticalName),_.horizontalName&&(i.HORIZONTAL_NAME=_.horizontalName),_.height&&(i.CVS_HEIGHT=_.height),_.width&&(i.CVS_WIDTH=_.width),_.xMax&&(i.MAX_X_UNIT=parseInt(_.xMax)),_.xMin&&(i.MIN_X_UNIT=parseInt(_.xMin)),_.yMax&&(i.MAX_Y_UNIT=parseInt(_.yMax)),_.yMin&&(i.MIN_Y_UNIT=parseInt(_.yMin)),_.interval&&(i.INTERVAL_UNIT=_.interval),i.MAX_X_UNIT<i.MIN_X_UNIT)return void console.log("Error: Wrong input for x boundaries");if(i.MAX_Y_UNIT<i.MIN_Y_UNIT)return void console.log("Error: Wrong input for y boundaries")}var r=graphySetEmptyCanvas(i,I),a=r.getContext("2d");return n(),{point:function(I,_,n){if(null!=I&&null!=_){var r=graphyUnitToPixel(I,"x",i),l=graphyUnitToPixel(_,"y",i);"cross"===n?graphyPlotPoint(a,r,l,i.MAIN_COLOR,"circle"):graphyPlotPoint(a,r,l,i.MAIN_COLOR)}},line:function(I,_){null!=I&&null!=_&&graphyDrawLine(a,I,_,i)},poly:function(I,_){if(null!=I){var n=i.MIN_X_UNIT,r=i.MAX_X_UNIT;_&&(_[0]&&n<_[0]&&(n=_[0]),_[1]&&r>_[1]&&(r=_[1])),graphyDrawPoly(a,n,r,I,i)}},circle:function(I,_){if(null!=I&&null!=_&&null!=I[0]&&null!=I[1]){var n=graphyUnitToPixel(I[0],"x",i),r=graphyUnitToPixel(I[1],"y",i),l=_*i.DIVISION_X;graphyDrawCircle(a,n,r,l,i)}},sin:function(I,_){if(null!=I){var n=i.MIN_X_UNIT,r=i.MAX_X_UNIT;_&&(_[0]&&n<_[0]&&(n=_[0]),_[1]&&r>_[1]&&(r=_[1])),graphyDrawSine(a,n,r,I,i)}},cos:function(I,_){if(null!=I){var n=i.MIN_X_UNIT,r=i.MAX_X_UNIT;_&&(_[0]&&n<_[0]&&(n=_[0]),_[1]&&r>_[1]&&(r=_[1])),graphyDrawCosine(a,n,r,I,i)}},tan:function(I,_){if(null!=I){var n=i.MIN_X_UNIT,r=i.MAX_X_UNIT;_&&(_[0]&&n<_[0]&&(n=_[0]),_[1]&&r>_[1]&&(r=_[1])),graphyDrawTangent(a,n,r,I,i)}},cot:function(I,_){if(null!=I){var n=i.MIN_X_UNIT,r=i.MAX_X_UNIT;_&&(_[0]&&n<_[0]&&(n=_[0]),_[1]&&r>_[1]&&(r=_[1])),graphyDrawTangent(a,n,r,I,i)}}}};