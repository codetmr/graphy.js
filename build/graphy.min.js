function graphyPlotPoint(I,_,N,n,i){null==n||"cross"==n?(graphyDrawSolidLine(I,_-5,N-5,_+5,N+5),graphyDrawSolidLine(I,_-5,N+5,_+5,N-5)):"circle"!=n&&"point"!=n||(I.beginPath(),I.arc(_,N,i.POINT_RAD_PX,0,2*Math.PI),I.fill(),I.stroke(),I.fillStyle=i.MAIN_COLOR,I.strokeStyle=i.MAIN_COLOR)}function graphyDrawLine(I,_,N,n){var i=_[0],r=N[0],l=_[1],a=N[1],e=graphyUnitToPixel(i,"x",n),t=graphyUnitToPixel(r,"x",n),o=graphyUnitToPixel(l,"y",n),X=graphyUnitToPixel(a,"y",n);graphyDrawSolidLine(I,e,o,t,X,n.MAIN_COLOR)}function graphyDrawPoly(I,_,N,n,i){if(i.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var r=_,l=0,a=0;a<n.length;a++){var e=n.length-a-1;l+=n[a]*Math.pow(r,e)}for(;r<N;){nextX=r+i.POLY_SEGMENT;for(var t=0,a=0;a<n.length;a++){var e=n.length-a-1;t+=n[a]*Math.pow(nextX,e)}var o=graphyUnitToPixel(r,"x",i),X=graphyUnitToPixel(nextX,"x",i),M=graphyUnitToPixel(l,"y",i),R=graphyUnitToPixel(t,"y",i);graphyDrawSolidLine(I,o,M,X,R,i.MAIN_COLOR),r=nextX,l=t}}function graphyDrawSolidLine(I,_,N,n,i,r){I.beginPath(),I.moveTo(_,N),I.lineTo(n,i),I.closePath(),I.stroke(),I.strokeStyle=r}function graphyDrawCircle(I,_,N,n,i){I.beginPath(),I.arc(_,N,n,0,2*Math.PI),I.stroke(),I.strokeStyle=i.MAIN_COLOR,I.beginPath(),I.arc(_,N,i.POINT_RAD_PX,0,2*Math.PI),I.fill(),I.stroke(),I.fillStyle=i.MAIN_COLOR,I.strokeStyle=i.MAIN_COLOR}function graphyDrawSine(I,_,N,n,i){if(i.POLY_SEGMENT<=0)return void console.log("Segment is not positive");for(var r=_,l=null,a=null,e=null;r<=N;){l=n*Math.sin(r),a=r+i.POLY_SEGMENT,e=n*Math.sin(a);var t=graphyUnitToPixel(r,"x",i),o=graphyUnitToPixel(a,"x",i),X=graphyUnitToPixel(l,"y",i),M=graphyUnitToPixel(e,"y",i);graphyDrawSolidLine(I,t,X,o,M,i.MAIN_COLOR),r=a,l=e}}function graphyUnitToPixel(I,_,N){return I=parseFloat(I),"x"===_?N.MARGIN_PX+N.PADDING_PX+(I-N.MIN_X_UNIT)*N.DIVISION_X:"y"===_?N.MARGIN_PX+N.PADDING_PX+(N.MAX_Y_UNIT-I)*N.DIVISION_Y:void console.log("Direction is not defined")}function graphySetEmptyCanvas(I,_){var N=document.getElementById(I.ID);return null==N&&(N=graphyCreateElement("canvas",I.ID,null,"",_)),N.width=I.CVS_WIDTH,N.height=I.CVS_HEIGHT,N.style.border="1px solid lightgray",N.getContext("2d").font="12px verdana",N}function graphyCreateElement(I,_,N,n,i){var r=document.createElement(I);return null!=_&&(r.id=_),null!=N&&(r.className=N),null!=n&&(r.innerHTML=n),null!=i&&i.appendChild(r),r}var graphy=function(I,_){function N(){n.DIVISION_X=(n.CVS_WIDTH-2*n.MARGIN_PX-2*n.PADDING_PX)/(n.MAX_X_UNIT-n.MIN_X_UNIT),n.DIVISION_Y=(n.CVS_HEIGHT-2*n.MARGIN_PX-2*n.PADDING_PX)/(n.MAX_Y_UNIT-n.MIN_Y_UNIT),n.MAX_Y_UNIT>0&&n.MIN_Y_UNIT<0&&(n.ORIGIN_Y=n.MARGIN_PX+n.PADDING_PX+n.DIVISION_Y*n.MAX_Y_UNIT),n.MAX_X_UNIT>0&&n.MIN_X_UNIT<0&&(n.ORIGIN_X=n.MARGIN_PX+n.PADDING_PX+n.DIVISION_X*Math.abs(n.MIN_X_UNIT)),n.ORIGIN_Y&&(graphyDrawSolidLine(r,n.MARGIN_PX,n.ORIGIN_Y,n.CVS_WIDTH-n.MARGIN_PX,n.ORIGIN_Y,n.MAIN_COLOR),graphyDrawSolidLine(r,n.CVS_WIDTH-n.MARGIN_PX,n.ORIGIN_Y,n.CVS_WIDTH-n.MARGIN_PX-n.ARROW_SZ_PX,n.ORIGIN_Y-n.ARROW_SZ_PX),graphyDrawSolidLine(r,n.CVS_WIDTH-n.MARGIN_PX,n.ORIGIN_Y,n.CVS_WIDTH-n.MARGIN_PX-n.ARROW_SZ_PX,n.ORIGIN_Y+n.ARROW_SZ_PX),r.fillText(n.HORIZONTAL_NAME,n.CVS_WIDTH-n.MARGIN_PX,n.ORIGIN_Y-n.MARGIN_PX)),n.ORIGIN_X&&(graphyDrawSolidLine(r,n.ORIGIN_X,n.MARGIN_PX,n.ORIGIN_X,n.CVS_HEIGHT-n.MARGIN_PX,n.MAIN_COLOR),graphyDrawSolidLine(r,n.ORIGIN_X,n.MARGIN_PX,n.ORIGIN_X-n.ARROW_SZ_PX,n.MARGIN_PX+n.ARROW_SZ_PX,n.MAIN_COLOR),graphyDrawSolidLine(r,n.ORIGIN_X,n.MARGIN_PX,n.ORIGIN_X+n.ARROW_SZ_PX,n.MARGIN_PX+n.ARROW_SZ_PX,n.MAIN_COLOR),r.fillText(n.VERTICAL_NAME,n.ORIGIN_X+n.MARGIN_PX,n.MARGIN_PX)),r.fillText(0,n.ORIGIN_X+5,n.ORIGIN_Y+15);for(var I=n.MIN_X_UNIT;I<=n.MAX_X_UNIT;I+=n.INTERVAL_UNIT)if(0!=I){var _=n.MARGIN_PX+n.PADDING_PX+(I-n.MIN_X_UNIT)*n.DIVISION_X;graphyDrawSolidLine(r,_,n.ORIGIN_Y+5,_,n.ORIGIN_Y-5,n.MAIN_COLOR),r.fillText(I,_,n.ORIGIN_Y+15)}for(var I=n.MAX_Y_UNIT;I>=n.MIN_Y_UNIT;I-=n.INTERVAL_UNIT)if(0!=I){var N=n.MARGIN_PX+n.PADDING_PX+(n.MAX_Y_UNIT-I)*n.DIVISION_Y;graphyDrawSolidLine(r,n.ORIGIN_X-5,N,n.ORIGIN_X+5,N,n.MAIN_COLOR),r.fillText(I,n.ORIGIN_X+5,N+5)}}var n={CVS_WIDTH:500,CVS_HEIGHT:500,VERTICAL_NAME:"y",HORIZONTAL_NAME:"x",MAX_X_UNIT:5,MIN_X_UNIT:-5,MAX_Y_UNIT:5,MIN_Y_UNIT:-5,INTERVAL_UNIT:1,MARGIN_PX:10,PADDING_PX:15,ARROW_SZ_PX:5,POINT_RAD_PX:2,MAIN_COLOR:"#000",POLY_SEGMENT:.1,ID:"graphy.js_"+Date.now(),DIVISION_X:null,DIVISION_Y:null,ORIGIN_X:null,ORIGIN_Y:null};if(null!=_){if(_.id&&(n.ID=_.id),_.verticalName&&(n.VERTICAL_NAME=_.verticalName),_.horizontalName&&(n.HORIZONTAL_NAME=_.horizontalName),_.height&&(n.CVS_HEIGHT=_.height),_.width&&(n.CVS_WIDTH=_.width),_.xMax&&(n.MAX_X_UNIT=parseInt(_.xMax)),_.xMin&&(n.MIN_X_UNIT=parseInt(_.xMin)),_.yMax&&(n.MAX_Y_UNIT=parseInt(_.yMax)),_.yMin&&(n.MIN_Y_UNIT=parseInt(_.yMin)),_.interval&&(n.INTERVAL_UNIT=_.interval),n.MAX_X_UNIT<n.MIN_X_UNIT)return void console.log("Error: Wrong input for x boundaries");if(n.MAX_Y_UNIT<n.MIN_Y_UNIT)return void console.log("Error: Wrong input for y boundaries")}var i=graphySetEmptyCanvas(n,I),r=i.getContext("2d");return N(),{point:function(I,_,N){if(null!=I&&null!=_){var i=graphyUnitToPixel(I,"x",n),l=graphyUnitToPixel(_,"y",n);"cross"===N?graphyPlotPoint(r,i,l,n.MAIN_COLOR,"circle"):graphyPlotPoint(r,i,l,n.MAIN_COLOR)}},line:function(I,_){null!=I&&null!=_&&graphyDrawLine(r,I,_,n)},poly:function(I,_){if(null!=I){var N=n.MIN_X_UNIT,i=n.MAX_X_UNIT;_&&(_[0]&&N<_[0]&&(N=_[0]),_[1]&&i>_[1]&&(i=_[1])),graphyDrawPoly(r,N,i,I,n)}},circle:function(I,_){if(null!=I&&null!=_&&null!=I[0]&&null!=I[1]){var N=graphyUnitToPixel(I[0],"x",n),i=graphyUnitToPixel(I[1],"y",n),l=_*n.DIVISION_X;graphyDrawCircle(r,N,i,l,n)}},sin:function(I,_){if(null!=I){var N=n.MIN_X_UNIT,i=n.MAX_X_UNIT;_&&(_[0]&&N<_[0]&&(N=_[0]),_[1]&&i>_[1]&&(i=_[1])),graphyDrawSine(r,N,i,I,n)}}}};