var graphy=function(n,t){function e(n,t,e,o){if(o<=0)return void console.log("Segment is not positive");for(var r=n,i=0,u=0;u<e.length;u++){var f=e.length-u-1;i+=e[u]*Math.pow(r,f)}for(;r<t;){nextX=r+o;for(var s=0,u=0;u<e.length;u++){var f=e.length-u-1;s+=e[u]*Math.pow(nextX,f)}var v=a(r,"x"),x=a(nextX,"x"),h=a(i,"y"),c=a(s,"y");l(v,h,x,c),r=nextX,i=s}}function l(n,t,e,l){E.beginPath(),E.moveTo(n,t),E.lineTo(e,l),E.closePath(),E.stroke(),E.strokeStyle=I}function o(n,t){l(n-5,t-5,n+5,t+5),l(n-5,t+5,n+5,t-5)}function r(n,t){E.beginPath(),E.arc(n,t,b,0,2*Math.PI),E.fill(),E.stroke(),E.fillStyle=I,E.strokeStyle=I}function a(n,t){return n=parseFloat(n),"x"===t?M+T+(n-d)*S:"y"===t?M+T+(y-n)*X:void console.log("Direction is not defined")}function u(t){var e=document.getElementById(t);return null==e&&(e=f("canvas",t,null,"",n)),e.width=v,e.height=x,e.style.border="1px solid lightgray",e.getContext("2d").font="12px verdana",e}function f(n,t,e,l,o){var n=document.createElement(n);return null!=t&&(n.id=t),null!=e&&(n.className=e),null!=l&&(n.innerHTML=l),null!=o&&o.appendChild(n),n}function s(){S=(v-2*M-2*T)/(g-d),X=(x-2*M-2*T)/(y-p),C=null,y>0&&p<0&&(C=M+T+X*y),z=null,g>0&&d<0&&(z=M+T+S*Math.abs(d)),C&&(l(M,C,v-M,C),l(v-M,C,v-M-w,C-w),l(v-M,C,v-M-w,C+w),E.fillText(c,v-M,C-M)),z&&(l(z,M,z,x-M),l(z,M,z-w,M+w),l(z,M,z+w,M+w),E.fillText(h,z+M,M)),E.fillText(0,z+5,C+15);for(var n=d;n<=g;n+=m)if(0!=n){var t=M+T+(n-d)*S;l(t,C+5,t,C-5),E.fillText(n,t,C+15)}for(var n=y;n>=p;n-=m)if(0!=n){var e=M+T+(y-n)*X;l(z-5,e,z+5,e),E.fillText(n,z+5,e+5)}}var v=500,x=500,h="y",c="x",g=5,d=-5,y=5,p=-5,m=1,M=10,T=15,w=5,b=2,I="#000",P=.1,N="graphy.js_"+Date.now(),k=u(N),E=k.getContext("2d"),S=null,X=null,C=null,z=null;return s(),{setup:function(n){if(null!=n){if(n.id&&(N=n.id),n.verticalName&&(h=n.verticalName),n.horizontalName&&(c=n.horizontalName),n.height&&(x=n.height),n.width&&(v=n.width),n.xMax&&(g=parseInt(n.xMax)),n.xMin&&(d=parseInt(n.xMin)),n.yMax&&(y=parseInt(n.yMax)),n.yMin&&(p=parseInt(n.yMin)),n.interval&&(m=n.interval),g<d)return void console.log("Error: Wrong input for x boundaries");if(y<p)return void console.log("Error: Wrong input for y boundaries");s()}},plotPoint:function(n,t,e){if(null!=n&&null!=t){var l=a(n,"x"),i=a(t,"y");"cross"===e?r(l,i):o(l,i)}},drawPoly:function(n,o){if(null!=n){var r=d,u=g;if(o&&(o[0]&&r<o[0]&&(r=o[0]),o[1]&&u>o[1]&&(u=o[1])),2===n.length){var f=n[0]*r+n[1],s=n[0]*u+n[1],v=a(r,"x"),x=a(u,"x"),h=a(f,"y"),c=a(s,"y");l(v,h,x,c)}else if(n.length>2){var y=t.polynomials[i].segment?parseFloat(t.polynomials[i]):P;e(r,u,n,y)}}}}};